model Appointment {
    id String @id @default(uuid())

    patientId String
    patient   Patient @relation(fields: [patientId], references: [id])

    doctorId String
    doctor   Doctor @relation(fields: [doctorId], references: [id])

    scheduleId String   @unique
    schedule   Schedule @relation(fields: [scheduleId], references: [id])

    videoCallingId String

    status        AppointmentStatus @default(SCHEDULED)
    paymentStatus PaymentStatus     @default(UNPAID)

    payment      Payment?
    prescription Prescription?

    createdAt DateTime  @default(now())
    updatedAt DateTime  @updatedAt
    reviews   Reviews[]

    @@map("appointments")
}

model Prescription {
    id String @id @default(uuid())

    appointmentId String      @unique
    appointment   Appointment @relation(fields: [appointmentId], references: [id])

    doctorId String
    doctor   Doctor @relation(fields: [doctorId], references: [id])

    patientId String
    patient   Patient @relation(fields: [patientId], references: [id])

    instructions String
    followUpDate DateTime
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt

    @@map("prescriptions")
}


